goog.provide('aw.router');
aw.router.default_authorized_route = new cljs.core.Keyword("aw","frontpage","aw/frontpage",-927753714);
aw.router.default_unauthorized_route = new cljs.core.Keyword("aw","signin","aw/signin",-353548337);
aw.router.routes = new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["/",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("aw","frontpage","aw/frontpage",-927753714),new cljs.core.Keyword(null,"perms","perms",-1384176260),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"authorized-only","authorized-only",-988382453),null], null), null),new cljs.core.Keyword(null,"view","view",1247994814),new cljs.core.Var(function(){return aw.view.frontpage.view;},new cljs.core.Symbol("aw.view.frontpage","view","aw.view.frontpage/view",-1042904798,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.Symbol(null,"aw.view.frontpage","aw.view.frontpage",-682773547,null),new cljs.core.Symbol(null,"view","view",-1406440955,null),"aw/view/frontpage.cljs",11,1,7,7,cljs.core.list(cljs.core.PersistentVector.EMPTY),null,(cljs.core.truth_(aw.view.frontpage.view)?aw.view.frontpage.view.cljs$lang$test:null)]))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["/game/:game_id",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("aw","game","aw/game",-441522883),new cljs.core.Keyword(null,"perms","perms",-1384176260),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"authorized-only","authorized-only",-988382453),null], null), null),new cljs.core.Keyword(null,"view","view",1247994814),new cljs.core.Var(function(){return aw.view.game.view;},new cljs.core.Symbol("aw.view.game","view","aw.view.game/view",-917429210,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.Symbol(null,"aw.view.game","aw.view.game",1245487816,null),new cljs.core.Symbol(null,"view","view",-1406440955,null),"aw/view/game.cljs",11,1,7,7,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"route-match","route-match",189545590,null)], null)),null,(cljs.core.truth_(aw.view.game.view)?aw.view.game.view.cljs$lang$test:null)]))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["/signin",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("aw","signin","aw/signin",-353548337),new cljs.core.Keyword(null,"perms","perms",-1384176260),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unauthorized-only","unauthorized-only",516183469),null], null), null),new cljs.core.Keyword(null,"view","view",1247994814),new cljs.core.Var(function(){return aw.view.signin.view;},new cljs.core.Symbol("aw.view.signin","view","aw.view.signin/view",-763195210,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.Symbol(null,"aw.view.signin","aw.view.signin",-960606852,null),new cljs.core.Symbol(null,"view","view",-1406440955,null),"aw/view/signin.cljs",11,1,19,19,cljs.core.list(cljs.core.PersistentVector.EMPTY),null,(cljs.core.truth_(aw.view.signin.view)?aw.view.signin.view.cljs$lang$test:null)]))], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["/signup",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("aw","signup","aw/signup",1961019889),new cljs.core.Keyword(null,"perms","perms",-1384176260),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"unauthorized-only","unauthorized-only",516183469),null], null), null),new cljs.core.Keyword(null,"view","view",1247994814),new cljs.core.Var(function(){return aw.view.signup.view;},new cljs.core.Symbol("aw.view.signup","view","aw.view.signup/view",-763193540,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.Symbol(null,"aw.view.signup","aw.view.signup",1083860773,null),new cljs.core.Symbol(null,"view","view",-1406440955,null),"aw/view/signup.cljs",11,1,36,36,cljs.core.list(cljs.core.PersistentVector.EMPTY),null,(cljs.core.truth_(aw.view.signup.view)?aw.view.signup.view.cljs$lang$test:null)]))], null)], null)], null);
aw.router.router = reitit.frontend.router.cljs$core$IFn$_invoke$arity$1(aw.router.routes);
if((typeof aw !== 'undefined') && (typeof aw.router !== 'undefined') && (typeof aw.router.current_match !== 'undefined')){
} else {
aw.router.current_match = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(null);
}
aw.router.match_by_name = (function aw$router$match_by_name(_name){
return reitit.frontend.match_by_name.cljs$core$IFn$_invoke$arity$2(aw.router.router,_name);
});
aw.router.init_BANG_ = (function aw$router$init_BANG_(){
return reitit.frontend.easy.start_BANG_(aw.router.router,(function (m){
if(((cljs.core.not(aw.session.perms_ok_QMARK_.cljs$core$IFn$_invoke$arity$1(aw.route_helpers.route_perms(m)))) && (aw.session.authorized_QMARK_()))){
cljs.core.reset_BANG_(aw.router.current_match,aw.router.match_by_name(aw.router.default_authorized_route));

aw.route_helpers.redirect_BANG_(aw.router.default_authorized_route);
} else {
if(cljs.core.not(aw.session.perms_ok_QMARK_.cljs$core$IFn$_invoke$arity$1(aw.route_helpers.route_perms(m)))){
cljs.core.reset_BANG_(aw.router.current_match,aw.router.match_by_name(aw.router.default_unauthorized_route));

aw.route_helpers.redirect_BANG_(aw.router.default_unauthorized_route);
} else {
cljs.core.reset_BANG_(aw.router.current_match,m);

}
}

return console.log("Current route:",m);
}),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"use-fragment","use-fragment",-1617737154),true], null));
});

//# sourceMappingURL=aw.router.js.map
