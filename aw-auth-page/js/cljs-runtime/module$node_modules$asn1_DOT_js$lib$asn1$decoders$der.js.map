{
"version":3,
"file":"module$node_modules$asn1_DOT_js$lib$asn1$decoders$der.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/asn1_DOT_js/lib/asn1/decoders/der.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$asn1_DOT_js$lib$asn1$decoders$der\"] = function(global,require,module,exports) {\nvar inherits = require('inherits');\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\nvar bignum = asn1.bignum;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!(data instanceof base.DecoderBuffer))\n    data = new base.DecoderBuffer(data, options);\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  var state = buffer.save();\n  var decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  var decodedTag = derDecodeTag(buffer,\n                                'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  var len = derDecodeLen(buffer,\n                         decodedTag.primitive,\n                         'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  var state = buffer.save();\n  var res = this._skipUntilEnd(\n      buffer,\n      'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  while (true) {\n    var tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    var len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    var res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len)\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n                                                    options) {\n  var result = [];\n  while (!buffer.isEmpty()) {\n    var possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    var res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    var unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    var raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    var str = '';\n    for (var i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    var numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    var printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  var result;\n  var identifiers = [];\n  var ident = 0;\n  while (!buffer.isEmpty()) {\n    var subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  var first = (identifiers[0] / 40) | 0;\n  var second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    var tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  var str = buffer.raw().toString();\n  if (tag === 'gentime') {\n    var year = str.slice(0, 4) | 0;\n    var mon = str.slice(4, 6) | 0;\n    var day = str.slice(6, 8) | 0;\n    var hour = str.slice(8, 10) | 0;\n    var min = str.slice(10, 12) | 0;\n    var sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    var year = str.slice(0, 2) | 0;\n    var mon = str.slice(2, 4) | 0;\n    var day = str.slice(4, 6) | 0;\n    var hour = str.slice(6, 8) | 0;\n    var min = str.slice(8, 10) | 0;\n    var sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull(buffer) {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  var res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  var raw = buffer.raw();\n  var res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  var tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  var cls = der.tagClass[tag >> 6];\n  var primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    var oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  var tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  var len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  var num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (var i = 0; i < num; i++) {\n    len <<= 8;\n    var j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","DERDecoder","entity","enc","name","tree","DERNode","_init","body","parent","base","Node","call","derDecodeTag","buf","fail","tag","readUInt8","isError","cls","der","tagClass","primitive","oct","tagStr","derDecodeLen","len","num","error","i","j","inherits","asn1","bignum","constants","prototype","decode","DERDecoder.prototype.decode","data","options","DecoderBuffer","_decode","_peekTag","DERNode.prototype._peekTag","buffer","any","isEmpty","state","save","decodedTag","restore","_decodeTag","DERNode.prototype._decodeTag","skip","res","_skipUntilEnd","offset","DERNode.prototype._skipUntilEnd","_decodeList","DERNode.prototype._decodeList","decoder","result","possibleEnd","push","_decodeStr","DERNode.prototype._decodeStr","unused","raw","length","str","String","fromCharCode","readUInt16BE","numstr","toString","_isNumstr","printstr","_isPrintstr","test","_decodeObjid","DERNode.prototype._decodeObjid","values","relative","identifiers","ident","subident","first","second","concat","slice","tmp","join","undefined","_decodeTime","DERNode.prototype._decodeTime","year","mon","day","hour","min","sec","Date","UTC","_decodeNull","DERNode.prototype._decodeNull","_decodeBool","DERNode.prototype._decodeBool","_decodeInt","DERNode.prototype._decodeInt","_use","DERNode.prototype._use","obj","_getDecoder"]
}
